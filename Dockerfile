FROM node:alpine

RUN mkdir -p /home/api

WORKDIR /home/api

COPY . .

ENV NODE_ENV=prod
ENV VALIDATE_DB=ON
ENV DELAY_CONNECTION=1000
ENV DB_CLIENT=sqlite3
ENV DB_FILE=database
ENV ADMIN_USER=admin
ENV ADMIN_PASS=admin
ENV PUBLIC_USER=user
ENV PUBLIC_PASS=user
ENV PORT=3000
ENV VALIDATE_DB=ON

EXPOSE 3000

RUN npm install

CMD ["npm", "start"]
